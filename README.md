# BashTomato

Simply just wrapper over ADB written in Bash to automate tasks on devices and/ or emulators.

BashTomato is a hobby project. It is a small script that offers part of functionality from:

- https://developer.android.com/reference/androidx/test/uiautomator/UiObject2
- https://developer.android.com/reference/androidx/test/uiautomator/UiDevice
- https://developer.android.com/reference/android/view/KeyEvent
- and couple of other ADB's commands

and is created to automate simple, daily repetitive work in simple (or not that simple, because of Bash) way.

## Requirements

- ADB installed
- device or emulator properly configured
- ./src/extensions.sh may require additional libs and packages like for example imagemagick for handling better screenshots and inspecting the screen hierarchy in more friendly graphical way

## Benefits

- compatibility with different Androids based on installed ADB
- works with device/ emulator immediately after script started, no code compilation
- Bash is present on most unix-like systems, so no additional configurations and dependencies needed

## Unfortunately

It uses `adb shell uiautomator dump` to get window's hierarchy, so it causes that BashTomato is not able to:

- touch on screen keyboard
- inspect webview's content

## How to use it

- clone repository to your local machine
- create new shell-like script file
- include ./src/bashtomato.sh or a bit minified version ./dist/bashtomato.sh. To have ./dist/bashtomato.sh it is required to execute ./clean_install_build_test.sh (unit and E2E test will be automatically executed. E2E will fail for sure, but BashTomato should work correctly)
- start automate

```sh
#!/bin/bash

source './dist/bashtomato.sh'

# your code goes here
```

for more what your testing code should look like you can refer to ./tests/e2e/example.sh. I used there most of functions offered by BashTomato to test them and show sample usage

## Testing

I used [shUnit2](https://github.com/kward/shunit2#shunit2) to write some unit tests, but also prepared simple apk in ./tests/e2e to be able to run most of BashTomato's functions.

Of course not everything is fully tested as this is very early version.

I run test on emulator Nexus 6 with API 27, 1440x2560 560dpi as tests strictly checks sleep, wake up, resolution, dpi etc., so running on any device will probably fail fast, because there will be nothing to uninstall, no data to clean, device may have screen locked with PIN etc. and/ or resolution may not match.

## Autogenerated API

#### Function: ext_screenshot_node
`description`:  makes screenshot and cuts out image of given element
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  screenshot_filename\
`position`:  2\
`optional`\
`description`:  filename where screenshot will be stored

---

`name`:  node_screenshot_filename\
`position`:  3\
`optional`\
`description`:  filename for node screenshot

---

#### Function: ext_inspect_window_hierarchy
`description`:  makes screenshot and then images of all nodes in hierarchy
##### Params:

`name`:  xml\
`position`:  1\
`optional`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  screenshot_filename\
`position`:  2\
`optional`\
`description`:  filename where screenshot will be stored

---

`name`:  directory\
`position`:  3\
`optional`\
`description`:  place where function results will be stored to not to be mixed with other files

---

#### Function: val_or_null
`description`:  takes care to return special `$NULL` when value is bash-like-empty
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

#### Function: default
`description`:  helps easily assign default value for variable when bash-like-empty value provided
##### Params:

`name`:  current_value\
`position`:  1\
`required`\
`description`:  actual value passed to function which will be relaced when empty

---

`name`:  default_value\
`position`:  2\
`required`\
`description`:  value that replaces `current_value` when empty

---

#### Function: calc_point_on_section
`description`:  calculates value from between `min` and `max`, distanced from min by number or percentage value
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  min\
`position`:  2\
`required`\
`description`:  limit which can't be exceeded or limits some value

---

`name`:  max\
`position`:  3\
`required`\
`description`:  limit which can't be exceeded or limits some value

---

#### Function: calc_point_on_surface
`description`:  calculates point in 2D within surface defined by element's bounds, appropriately distanced from top and left by number of percentage values
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  x\
`position`:  2\
`optional`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  3\
`optional`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: get_prop
`description`:  element or node is simply XML tag, this function extract attribute's value
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  prop_name\
`position`:  2\
`required`\
`description`:  an XML attribute name, be careful with names like click and long-click, where one is part of another

---

#### Function: calc_duration_from_distance_speed
`description`:  calculates times needed to travel from one 2D point to another for given speed
##### Params:

`name`:  speed\
`position`:  1\
`optional`\
`description`:  speed in pixels per second to perform gesture

---

`name`:  x_from\
`position`:  2\
`required`\
`description`:  usually expresses horizontal margin from left where to begin interaction with element

---

`name`:  y_from\
`position`:  3\
`required`\
`description`:  usually expresses horizontal margin from top where to begin interaction with element

---

`name`:  x_to\
`position`:  4\
`required`\
`description`:  usually expresses horizontal margin from left where to end interaction with element

---

`name`:  y_to\
`position`:  5\
`required`\
`description`:  usually expresses horizontal margin from top where to end interaction with element

---

#### Function: helper_string_length
`description`:  returns string's length
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_substring
`description`:  return substring of `length` starting `from`
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

`name`:  from\
`position`:  2\
`required`\
`description`:  expresses start/ begin of range of point

---

`name`:  length\
`position`:  3\
`required`\
`description`:  expresses length, size, amount

---

#### Function: helper_to_lower
`description`:  lowercase the whole given string
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_to_upper
`description`:  uppercase the whole given string
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_capitalize
`description`:  lowercase the whole given string, except first character which goes upper
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_objects_count
`description`:  simply return lines, useful with uio2_find_objects
##### Params:

`name`:  objects\
`position`:  1\
`required`\
`description`:  XML-string-like elements separated by newlines

---

#### Function: helper_does_string_starts_with
`description`:  checks if given `string` starts with other string
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

`name`:  start_string\
`position`:  2\
`required`\
`description`:  substring which must match to begin of string

---

#### Function: helper_does_string_ends_with
`description`:  checks if given `string` ends with other string
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

`name`:  end_string\
`position`:  2\
`required`\
`description`:  substring which must match to end of string

---

#### Function: helper_does_string_contains
`description`:  checks if given `string` includes other string
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

`name`:  substring\
`position`:  2\
`required`\
`description`:  substring used in helpers like find or replace

---

#### Function: helper_string_is_lower_case
`description`:  ckecks if whole string is build from lowercase letters
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_string_is_upper_case
`description`:  ckecks if whole string is build from uppercase letters
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_string_is_capitalised
`description`:  ckecks if whole string is build from lower letters, except first which is uppercase
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_does_strings_are_equal
`description`:  checks if two strings are same
##### Params:

`name`:  string_a\
`position`:  1\
`required`\
`description`:  main od substring used in helpers like find or replace

---

`name`:  string_b\
`position`:  2\
`required`\
`description`:  substring used in helpers like find or replace

---

#### Function: helper_strings_join
`description`:  joins all given strings given glue-string
##### Params:

`name`:  glue\
`position`:  1\
`optional`\
`description`:  to join strings

---

`name`:  string_a\
`position`:  1\
`required`\
`description`:  main od substring used in helpers like find or replace

---

`name`:  string_b\
`position`:  2\
`required`\
`description`:  substring used in helpers like find or replace

---

`name`:  start_from\
`position`:  3\
`optional`\
`description`:  position to start searching from

---

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

#### Function: helper_string_replace
`description`:  replace all occurences of one string to another in the main one
##### Params:

`name`:  string\
`position`:  1\
`required`\
`description`:  main string used in helpers like in find or replace

---

`name`:  string_a\
`position`:  2\
`required`\
`description`:  main od substring used in helpers like find or replace

---

`name`:  string_b\
`position`:  3\
`required`\
`description`:  substring used in helpers like find or replace

---

#### Function: uid_click
`description`:  click on specified screen point, numbers x, y from top, left edges
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  x\
`position`:  2\
`required`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  3\
`required`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: uid_drag
`description`:  drags from point to point, like numbers, x, y from top, left edge to numbers w, z from top, left edges
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  x_from\
`position`:  2\
`required`\
`description`:  usually expresses horizontal margin from left where to begin interaction with element

---

`name`:  y_from\
`position`:  3\
`required`\
`description`:  usually expresses horizontal margin from top where to begin interaction with element

---

`name`:  x_to\
`position`:  4\
`required`\
`description`:  usually expresses horizontal margin from left where to end interaction with element

---

`name`:  y_to\
`position`:  5\
`required`\
`description`:  usually expresses horizontal margin from top where to end interaction with element

---

`name`:  duration\
`position`:  6\
`required`\
`description`:  time expressed in seconds or milliseconds

---

#### Function: uid_dump_window_hierarchy
`description`:  retrieve XML-source of current visible application
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  dump_xml_filename\
`position`:  2\
`optional`\
`description`:  is for use custom xml file name for dump. Pass without `.xml` extension

---

#### Function: uid_freeze_rotation
`description`:  disables device's sensor
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_current_activity_name
`description`:  dumps current visible activity's name
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_display_height
`description`:  gets screen height in pixels
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_display_rotation
`description`:  gets screen rotation value previously set
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_display_size_dp
`description`:  gets screen density
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_display_width
`description`:  gets screen width in pixels
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_get_product_name
`description`:  retrieves the product name of the device
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_is_screen_on
`description`:  checks if screen in turned on
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_open_notification
`description`:  drags menu from top device bar
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_press_key_code
`description`:  sends key to the device to perform
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  keycode\
`position`:  2\
`required`\
`description`:  any valid integer of one from consts from ./src/keycodes.sh value from between brackets

---

#### Function: uid_set_orientation_left
`description`:  rotates device to the left counting from natural portrait position
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_set_orientation_natural
`description`:  rotates device to natural portrait
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_sleep
`description`:  turns the screen off
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_swipe
`description`:  performs swipe on screen instead of element, specify numbers x, y and w, z being margins from top, left edges
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  x_from\
`position`:  2\
`required`\
`description`:  usually expresses horizontal margin from left where to begin interaction with element

---

`name`:  y_from\
`position`:  3\
`required`\
`description`:  usually expresses horizontal margin from top where to begin interaction with element

---

`name`:  x_to\
`position`:  4\
`required`\
`description`:  usually expresses horizontal margin from left where to end interaction with element

---

`name`:  y_to\
`position`:  5\
`required`\
`description`:  usually expresses horizontal margin from top where to end interaction with element

---

`name`:  duration\
`position`:  6\
`required`\
`description`:  time expressed in seconds or milliseconds

---

#### Function: uid_take_screenshot
`description`:  takes screenshot to specified filename without .png extension
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  screenshot_filename\
`position`:  2\
`optional`\
`description`:  filename where screenshot will be stored

---

#### Function: uid_unfreeze_rotation
`description`:  unlock devide's reactions to rotations
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uid_wake_up
`description`:  turns the screen on
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uio2_clear
`description`:  clears editable text, auto clicks on such element, very poor in terms of performance
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_click
`description`:  shortly clicks on element
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  x\
`position`:  3\
`optional`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  4\
`optional`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: uio2_click_with_duration
`description`:  clicks with given duration, default 0.5 second
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  duration\
`position`:  3\
`optional`\
`description`:  time expressed in seconds or milliseconds

---

`name`:  x\
`position`:  4\
`optional`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  5\
`optional`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: uio2_click_and_wait
`description`:  shortly clicks on element and waits, default 5 seconds
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  wait_time\
`position`:  3\
`optional`\
`description`:  time in seconds to wait after click

---

`name`:  x\
`position`:  4\
`optional`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  5\
`optional`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: uio2_drag
`description`:  drags from one element to another. Start, end points can be changed by top, left margins for each
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node_from\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  node_to\
`position`:  3\
`required`\
`description`:  an XML-string-like element description

---

`name`:  duration\
`position`:  4\
`optional`\
`description`:  time expressed in seconds or milliseconds

---

`name`:  x_from\
`position`:  5\
`optional`\
`description`:  usually expresses horizontal margin from left where to begin interaction with element

---

`name`:  y_from\
`position`:  6\
`optional`\
`description`:  usually expresses horizontal margin from top where to begin interaction with element

---

`name`:  x_to\
`position`:  7\
`optional`\
`description`:  usually expresses horizontal margin from left where to end interaction with element

---

`name`:  y_to\
`position`:  8\
`optional`\
`description`:  usually expresses horizontal margin from top where to end interaction with element

---

#### Function: uio2_drag_with_speed
`description`:  like uio2_drag, but speed may be defined instead fo duration
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node_from\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  node_to\
`position`:  3\
`required`\
`description`:  an XML-string-like element description

---

`name`:  speed\
`position`:  4\
`optional`\
`description`:  speed in pixels per second to perform gesture

---

`name`:  x_from\
`position`:  5\
`optional`\
`description`:  usually expresses horizontal margin from left where to begin interaction with element

---

`name`:  y_from\
`position`:  6\
`optional`\
`description`:  usually expresses horizontal margin from top where to begin interaction with element

---

`name`:  x_to\
`position`:  7\
`optional`\
`description`:  usually expresses horizontal margin from left where to end interaction with element

---

`name`:  y_to\
`position`:  8\
`optional`\
`description`:  usually expresses horizontal margin from top where to end interaction with element

---

#### Function: uio2_equals
`description`:  compares elements like XML-strigs, not by reference
##### Params:

`name`:  node_a\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  node_b\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_find_object
`description`:  filters element from given XML-source matching regular expression pattern
##### Params:

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  filter\
`position`:  2\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

`name`:  index\
`position`:  3\
`optional`\
`description`:  to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO

---

#### Function: uio2_find_objects
`description`:  filters many element from given XML-source matching regular expression pattern
##### Params:

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  filter\
`position`:  2\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

#### Function: uio2_get_application_package
`description`:  get current package_name using ADB, may not work for all devices
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: uio2_get_children_count
`description`:  count children of given node based on whole XML-source
##### Params:

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_children
`description`:  filter childrens like XML-strings of given node from wholre XML-source
##### Params:

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_class_name
`description`:  gets XML element's class attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_content_description
`description`:  gets XML element's content-description attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_parent
`description`:  gets element's parent based on ginec element and whole XML-source
##### Params:

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_resource_id
`description`:  gets XML element's resource-id attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_text
`description`:  gets XML element's text attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_get_bounds
`description`:  gets XML element's bounds attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  which\
`position`:  2\
`required`\
`description`:  element's bound to get { left, top, right, bottom}

---

#### Function: uio2_get_visible_center
`description`:  calculates center of visible element's part
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

`name`:  xml\
`position`:  1\
`required`\
`description`:  any valid XML-source, usually comes from hierarchy dump

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  filter\
`position`:  3\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

#### Function: uio2_is_checkable
`description`:  gets XML element's checkable attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_checked
`description`:  gets XML element's checked attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_clickable
`description`:  gets XML element's clickable attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_enabled
`description`:  gets XML element's enabled attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_focusable
`description`:  gets XML element's focusable
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_focused
`description`:  gets XML element's focused attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_long_clickable
`description`:  gets XML element's long-clickable attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_scrollable
`description`:  gets XML element's scrollable attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_is_selected
`description`:  gets XML element's selected attribute
##### Params:

`name`:  node\
`position`:  1\
`required`\
`description`:  an XML-string-like element description

---

#### Function: uio2_long_click
`description`:  clicks 0.5 seconds long on element
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  x\
`position`:  3\
`optional`\
`description`:  usually expresses horizontal margin from left where to do interaction with element

---

`name`:  y\
`position`:  4\
`optional`\
`description`:  usually expresses horizontal margin from top where to do interaction with element

---

#### Function: uio2_pinch_close
`description`:  performs pinch close gesture on elemetn with specified size
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  percent\
`position`:  3\
`optional`\
`description`:  percent-value-string-like '50%'/'66%'/'1%'

---

`name`:  duration\
`position`:  4\
`optional`\
`description`:  time expressed in seconds or milliseconds

---

#### Function: uio2_pinch_open
`description`:  performs pinch open gesture on elemetn with specified size
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  percent\
`position`:  3\
`optional`\
`description`:  percent-value-string-like '50%'/'66%'/'1%'

---

`name`:  duration\
`position`:  4\
`optional`\
`description`:  time expressed in seconds or milliseconds

---

#### Function: uio2_set_text
`description`:  write text to editable, auto clicks the element
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  content\
`position`:  3\
`optional`\
`description`:  is a text to type inside text editable

---

#### Function: uio2_swipe_with_speed
`description`:  like uio2_swipe, but need speed instead of duration
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  direction\
`position`:  3\
`optional`\
`description`:  is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }

---

`name`:  percent\
`position`:  4\
`optional`\
`description`:  percent-value-string-like '50%'/'66%'/'1%'

---

`name`:  speed\
`position`:  5\
`optional`\
`description`:  speed in pixels per second to perform gesture

---

#### Function: uio2_swipe
`description`:  performs swipe on element from its one point to another
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  node\
`position`:  2\
`required`\
`description`:  an XML-string-like element description

---

`name`:  direction\
`position`:  3\
`optional`\
`description`:  is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }

---

`name`:  percent\
`position`:  4\
`optional`\
`description`:  percent-value-string-like '50%'/'66%'/'1%'

---

`name`:  duration\
`position`:  5\
`optional`\
`description`:  time expressed in seconds or milliseconds

---

#### Function: utils_assert_null
`description`:  exits with `success_message` and status 0 if `value` is `$NULL` else prints `error_message` with status 1
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  success_message\
`position`:  2\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_not_null
`description`:  exits with `success_message` and status 0 if `value` is NOT `$NULL` else prints `error_message` with status 1
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  success_message\
`position`:  2\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_true
`description`:  exits with `success_message` and status 0 if `value` is `$TRUE` else prints `error_message` with status 1
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  success_message\
`position`:  2\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_false
`description`:  exits with `success_message` and status 0 if `value` is `$FALSE` else prints `error_message` with status 1
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  success_message\
`position`:  2\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_string_is_empty
`description`:  exits with `success_message` and status 0 if `value` expands to '' else prints `error_message` with status 1
##### Params:

`name`:  value\
`position`:  1\
`required`\
`description`:  value to assert, to null or default

---

`name`:  success_message\
`position`:  2\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_strings_are_equal
`description`:  exits with `success_message` and status 0 if `value_a` and `value_b` expand to same values else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_strings_are_different
`description`:  exits with `success_message` and status 0 if `value_a` and `value_b` expand to different values else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_less_than_second
`description`:  exits with `success_message` and status 0 if `value_a` is less than `value_b` else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_less_or_equal_than_second
`description`:  exits with `success_message` and status 0 if `value_a` is less or equal than `value_b` else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_equals_second
`description`:  exits with `success_message` and status 0 if `value_a` and `value_b` are equal else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_greater_or_equal_than_second
`description`:  exits with `success_message` and status 0 if `value_a` is greater or equal than `value_b` else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_greater_than_second
`description`:  exits with `success_message` and status 0 if `value_a` is greater than `value_b` else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_assert_numbers_first_is_not_equal_to_second
`description`:  exits with `success_message` and status 0 if `value_a` and `value_b` expand to different values else prints `error_message` with status 1
##### Params:

`name`:  value_a\
`position`:  1\
`required`\
`description`:  value to assert

---

`name`:  value_b\
`position`:  2\
`required`\
`description`:  value to assert

---

`name`:  success_message\
`position`:  3\
`required`\
`description`:  message for assert printed when assertion success

---

`name`:  error_message\
`position`:  4\
`required`\
`description`:  message for assert printed when assertion fails

---

#### Function: utils_devices
`description`:  returns all devices ids list or single if `device_index` passed
##### Params:

`name`:  device_index\
`position`:  1\
`optional`\
`description`:  is the order number of device comes from `adb devices`

---

#### Function: utils_is_device_connected
`description`:  checks if device with `device_id` is reachable from ADB, returns `$TRUE`/ `$FALSE`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: utils_restart_server
`description`:  restarts ADB server
##### Params:

#### Function: utils_reboot
`description`:  reboots device by its `device_id`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: utils_set_display
`description`:  sets resolution and density by provoding named params of deivce by `device_id`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

#### Function: utils_install_and_start
`description`:  starts `package_name` on device with `device_id`, allows to install apk and force reinstall
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  package_name\
`position`:  2\
`required`\
`description`:  application package name

---

`name`:  apkpath\
`position`:  3\
`optional`\
`description`:  path to .apk file to install and run

---

`name`:  force\
`position`:  4\
`optional`\
`description`:  forces given procedure to do something e. g. reinstall

---

#### Function: utils_stop_app
`description`:  stops app with `package_name` on device with `device_id`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  package_name\
`position`:  2\
`required`\
`description`:  application package name

---

#### Function: utils_uninstall
`description`:  uninstalls app with `package_name` on device with `device_id`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  package_name\
`position`:  2\
`required`\
`description`:  application package name

---

#### Function: utils_clear_data
`description`:  clears app data of `package_name` on device with `device_id`
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  package_name\
`position`:  2\
`required`\
`description`:  application package name

---

#### Function: utils_record
`description`:  records video from device with `device_id`, for now this probably locks device blockick possibility to execute other functions
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  filename\
`position`:  2\
`required`\
`description`:  filename where to store screenshot of recording. Pass without extension

---

#### Function: utils_wait_to_see
`description`:  search for element on device's screen by `device_id`, dumps hierarchy until element appeared or attempts exhaust
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  filter\
`position`:  2\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

`name`:  index\
`position`:  3\
`optional`\
`description`:  to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO

---

`name`:  attempts\
`position`:  4\
`optional`\
`description`:  number of tries after function will stop with result

---

#### Function: utils_search_node
`description`:  searches for element in advanced way, it scrolls horizontally or vertically through given element and searches for other element inside, moved by configurable steps, repeats `cycles` times
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  object_to_search_in\
`position`:  2\
`optional`\
`description`:  an XML-string-like element in which searching by swipe left/right top/left will be done

---

`name`:  filter\
`position`:  3\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

`name`:  index\
`position`:  4\
`optional`\
`description`:  to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO

---

`name`:  swiping_direction\
`position`:  5\
`optional`\
`description`:  is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }

---

`name`:  cycles\
`position`:  6\
`optional`\
`description`:  number of repeats the whole procedure like swiping to left/right top/bottom to reach the scroll limit. Cycle decreases when direction changes

---

`name`:  swipe_length\
`position`:  7\
`optional`\
`description`:  distance between touchdown and touchup for swipe

---

`name`:  swipes_count_left\
`position`:  8\
`optional`\
`description`:  swipes left to perform before go to next cycles or stop procedure with some result

---

#### Function: utils_wait_to_gone
`description`:  search for element on device's screen by `device_id`, dumps hierarchy until element gone or attempts exhaust
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

`name`:  filter\
`position`:  2\
`required`\
`description`:  grep -E like regular expression passed to find elements on screen

---

`name`:  index\
`position`:  3\
`optional`\
`description`:  to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO

---

`name`:  attempts\
`position`:  4\
`optional`\
`description`:  number of tries after function will stop with result

---

#### Function: utils_get_device_orientation
`description`:  gets device's orientation as number 0 to 3
##### Params:

`name`:  device_id\
`position`:  1\
`required`\
`description`:  is a string like emulator-5554, emulator-5556

---

