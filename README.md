# BashTomato

Simply just wrapper over ADB written in Bash to automate tasks on devices and/ or emulators.

BashTomato is a hobby project. It is a small script that offers part of functionality from:

- https://developer.android.com/reference/androidx/test/uiautomator/UiObject2
- https://developer.android.com/reference/androidx/test/uiautomator/UiDevice
- https://developer.android.com/reference/android/view/KeyEvent
- and couple of other ADB's commands

and is created to automate simple, daily repetitive work in simple (or not that simple, because of Bash) way.

## Requirements

- ADB installed
- device or emulator properly configured
- ./src/extensions.sh may require additional libs and packages like for example imagemagick for handling better screenshots and inspecting the screen hierarchy in more friendly graphical way

## Benefits

- compatibility with different Androids based on installed ADB
- works with device/ emulator immediately after script started, no code compilation
- Bash is present on most unix-like systems, so no additional configurations and dependencies needed

## Unfortunately

It uses `adb shell uiautomator dump` to get window's hierarchy, so it causes that BashTomato is not able to:

- touch on screen keyboard
- inspect webview's content

## How to use it

- clone repository to your local machine
- create new shell-like script file
- include ./src/bashtomato.sh or a bit minified version ./dist/bashtomato.sh. To have ./dist/bashtomato.sh it is required to execute ./clean_install_build_test.sh (unit and E2E test will be automatically executed. E2E will fail for sure, but BashTomato should work correctly)
- start automate

```sh
#!/bin/bash

source './dist/bashtomato.sh'

# your code goes here
```

for more what your testing code should look like you can refer to ./tests/e2e/example.sh. I used there most of functions offered by BashTomato to test them and show sample usage

## Testing

I used [shUnit2](https://github.com/kward/shunit2#shunit2) to write some unit tests, but also prepared simple apk in ./tests/e2e to be able to run most of BashTomato's functions.

Of course not everything is fully tested as this is very early version.

I run test on emulator Nexus 6 with API 27, 1440x2560 560dpi as tests strictly checks sleep, wake up, resolution, dpi etc., so running on any device will probably fail fast, because there will be nothing to uninstall, no data to clean, device may have screen locked with PIN etc. and/ or resolution may not match.

## Autogenerated API

### Function: ext_screenshot_node
_description: makes screenshot and cuts out image of given element_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: screenshot_filename
_position: 2_
**optional (default value 'temporary_screenshot_filename.png')**
_description: filename where screenshot will be stored_
#### name: node_screenshot_filename
_position: 3_
**optional (default value 'temporary_node_screenshot_filename.png')**
_description: filename for node screenshot_
### Function: ext_inspect_window_hierarchy
_description: makes screenshot and then images of all nodes in hierarchy_
#### name: xml
_position: 1_
**optional (default value '')**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: screenshot_filename
_position: 2_
**optional (default value 'temporary_screenshot_filename.png')**
_description: filename where screenshot will be stored_
#### name: directory
_position: 3_
**optional (default value 'inspect')**
_description: place where function results will be stored to not to be mixed with other files_
### Function: val_or_null
_description: takes care to return special `$NULL` when value is bash-like-empty_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
### Function: default
_description: helps easily assign default value for variable when bash-like-empty value provided_
#### name: current_value
_position: 1_
**required**
_description: actual value passed to function whic will be relaced when empty_
#### name: default_value
_position: 2_
**required**
_description: value that replaces `current_value` when empty_
### Function: calc_point_on_section
_description: calculates value from between `min` and `max`, distanced from min by number or percentage value_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: min
_position: 2_
**required**
_description: limit which can't be exceeded or limits some value_
#### name: max
_position: 3_
**required**
_description: limit which can't be exceeded or limits some value_
### Function: calc_point_on_surface
_description: calculates point in 2D within surface defined by element's bounds, appropriately distanced from top and left by number of percentage values_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: x
_position: 2_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 3_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: get_prop
_description: element or node is simply XML tag, this function extract attribute's value_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: prop_name
_position: 2_
**required**
_description: an XML attribute name, be careful with names like click and long-click, where one is part of another_
### Function: calc_duration_from_distance_speed
_description: calculates times needed to travel from one 2D point to another for given speed_
#### name: speed
_position: 1_
**optional (default value 1000)**
_description: speed in pixels per second to perform gesture_
#### name: x_from
_position: 2_
**required**
_description: usually expresses horizontal margin from left where to begin interaction with element_
#### name: y_from
_position: 3_
**required**
_description: usually expresses horizontal margin from top where to begin interaction with element_
#### name: x_to
_position: 4_
**required**
_description: usually expresses horizontal margin from left where to end interaction with element_
#### name: y_to
_position: 5_
**required**
_description: usually expresses horizontal margin from top where to end interaction with element_
### Function: helper_string_length
_description: returns string's length_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_substring
_description: return substring of `length` starting `from`_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
#### name: from
_position: 2_
**required**
_description: expresses start/ begin of range of point_
#### name: length
_position: 3_
**required**
_description: expresses length, size, amount_
### Function: helper_to_lower
_description: lowercase the whole given string_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_to_upper
_description: uppercase the whole given string_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_capitalize
_description: lowercase the whole given string, except first character which goes upper_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_objects_count
_description: simply return lines, useful with uio2_find_objects_
#### name: objects
_position: 1_
**required**
_description: XML-string-like elements separated by newlines_
### Function: helper_does_string_starts_with
_description: checks if given `string` starts with other string_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
#### name: start_string
_position: 2_
**required**
_description: substring which must match to begin of string_
### Function: helper_does_string_ends_with
_description: checks if given `string` ends with other string_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
#### name: end_string
_position: 2_
**required**
_description: substring which must match to end of string_
### Function: helper_does_string_contains
_description: checks if given `string` includes other string_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
#### name: substring
_position: 2_
**required**
_description: substring used in helpers like find or replace_
### Function: helper_string_is_lower_case
_description: ckecks if whole string is build from lowercase letters_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_string_is_upper_case
_description: ckecks if whole string is build from uppercase letters_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_string_is_capitalised
_description: ckecks if whole string is build from lower letters, except first which is uppercase_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_does_strings_are_equal
_description: checks if two strings are same_
#### name: string_a
_position: 1_
**required**
_description: main od substring used in helpers like find or replace_
#### name: string_b
_position: 2_
**required**
_description: substring used in helpers like find or replace_
### Function: helper_strings_join
_description: joins all given strings given glue-string_
#### name: glue
_position: 1_
**optional (default value '')**
_description: to join strings_
#### name: string_a
_position: 1_
**required**
_description: main od substring used in helpers like find or replace_
#### name: string_b
_position: 2_
**required**
_description: substring used in helpers like find or replace_
#### name: start_from
_position: 3_
**optional (default value 0)**
_description: position to start searching from_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
### Function: helper_string_replace
_description: replace all occurences of one string to another in the main one_
#### name: string
_position: 1_
**required**
_description: main string used in helpers like in find or replace_
#### name: string_a
_position: 2_
**required**
_description: main od substring used in helpers like find or replace_
#### name: string_b
_position: 3_
**required**
_description: substring used in helpers like find or replace_
### Function: uid_click
_description: click on specified screen point, numbers x, y from top, left edges_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: x
_position: 2_
**required**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 3_
**required**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: uid_drag
_description: drags from point to point, like numbers, x, y from top, left edge to numbers w, z from top, left edges_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: x_from
_position: 2_
**required**
_description: usually expresses horizontal margin from left where to begin interaction with element_
#### name: y_from
_position: 3_
**required**
_description: usually expresses horizontal margin from top where to begin interaction with element_
#### name: x_to
_position: 4_
**required**
_description: usually expresses horizontal margin from left where to end interaction with element_
#### name: y_to
_position: 5_
**required**
_description: usually expresses horizontal margin from top where to end interaction with element_
#### name: duration
_position: 6_
**required**
_description: time expressed in seconds or milliseconds_
### Function: uid_dump_window_hierarchy
_description: retrieve XML-source of current visible application_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: dump_xml_filename
_position: 2_
**optional (default value 'temporary_xml_dump.xml')**
_description: is for use custom xml file name for dump. Pass without `.xml` extension_
### Function: uid_freeze_rotation
_description: disables device's sensor_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_current_activity_name
_description: dumps current visible activity's name_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_display_height
_description: gets screen height in pixels_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_display_rotation
_description: gets screen rotation value previously set_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_display_size_dp
_description: gets screen density_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_display_width
_description: gets screen width in pixels_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_get_product_name
_description: retrieves the product name of the device_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_is_screen_on
_description: checks if screen in turned on_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_open_notification
_description: drags menu from top device bar_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_press_key_code
_description: sends key to the device to perform_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: keycode
_position: 2_
**required**
_description: any valid integer of one from consts from ./src/keycodes.sh value from between brackets_
### Function: uid_set_orientation_left
_description: rotates device to the left counting from natural portrait position_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_set_orientation_natural
_description: rotates device to natural portrait_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_sleep
_description: turns the screen off_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_swipe
_description: performs swipe on screen instead of element, specify numbers x, y and w, z being margins from top, left edges_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: x_from
_position: 2_
**required**
_description: usually expresses horizontal margin from left where to begin interaction with element_
#### name: y_from
_position: 3_
**required**
_description: usually expresses horizontal margin from top where to begin interaction with element_
#### name: x_to
_position: 4_
**required**
_description: usually expresses horizontal margin from left where to end interaction with element_
#### name: y_to
_position: 5_
**required**
_description: usually expresses horizontal margin from top where to end interaction with element_
#### name: duration
_position: 6_
**required**
_description: time expressed in seconds or milliseconds_
### Function: uid_take_screenshot
_description: takes screenshot to specified filename without .png extension_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: screenshot_filename
_position: 2_
**optional (default value 'temporary_screenshot_filename.png')**
_description: filename where screenshot will be stored_
### Function: uid_unfreeze_rotation
_description: unlock devide's reactions to rotations_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uid_wake_up
_description: turns the screen on_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uio2_clear
_description: clears editable text, auto clicks on such element, very poor in terms of performance_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
### Function: uio2_click
_description: shortly clicks on element_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: x
_position: 3_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 4_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: uio2_click_with_duration
_description: clicks with given duration, default 0.5 second_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: duration
_position: 3_
**optional (default value 500)**
_description: time expressed in seconds or milliseconds_
#### name: x
_position: 4_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 5_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: uio2_click_and_wait
_description: shortly clicks on element and waits, default 5 seconds_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: wait_time
_position: 3_
**optional (default value 5)**
_description: time in seconds to wait after click_
#### name: x
_position: 4_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 5_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: uio2_drag
_description: drags from one element to another. Start, end points can be changed by top, left margins for each_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node_from
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: node_to
_position: 3_
**required**
_description: an XML-string-like element description_
#### name: duration
_position: 4_
**optional (default value 500)**
_description: time expressed in seconds or milliseconds_
#### name: x_from
_position: 5_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to begin interaction with element_
#### name: y_from
_position: 6_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to begin interaction with element_
#### name: x_to
_position: 7_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to end interaction with element_
#### name: y_to
_position: 8_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to end interaction with element_
### Function: uio2_drag_with_speed
_description: like uio2_drag, but speed may be defined instead fo duration_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node_from
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: node_to
_position: 3_
**required**
_description: an XML-string-like element description_
#### name: speed
_position: 4_
**optional (default value 1000)**
_description: speed in pixels per second to perform gesture_
#### name: x_from
_position: 5_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to begin interaction with element_
#### name: y_from
_position: 6_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to begin interaction with element_
#### name: x_to
_position: 7_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to end interaction with element_
#### name: y_to
_position: 8_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to end interaction with element_
### Function: uio2_equals
_description: compares elements like XML-strigs, not by reference_
#### name: node_a
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: node_b
_position: 2_
**required**
_description: an XML-string-like element description_
### Function: uio2_find_object
_description: filters element from given XML-source matching regular expression pattern_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: filter
_position: 2_
**required**
_description: grep -E like regular expression passed to find elements on screen_
#### name: index
_position: 3_
**optional (default value 1)**
_description: to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO_
### Function: uio2_find_objects
_description: filters many element from given XML-source matching regular expression pattern_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: filter
_position: 2_
**required**
_description: grep -E like regular expression passed to find elements on screen_
### Function: uio2_get_application_package
_description: get current package_name using ADB, may not work for all devices_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: uio2_get_children_count
_description: count children of given node based on whole XML-source_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_children
_description: filter childrens like XML-strings of given node from wholre XML-source_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_class_name
_description: gets XML element's class attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_content_description
_description: gets XML element's content-description attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_parent
_description: gets element's parent based on ginec element and whole XML-source_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_resource_id
_description: gets XML element's resource-id attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_text
_description: gets XML element's text attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_get_bounds
_description: gets XML element's bounds attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: which
_position: 2_
**required**
_description: element's bound to get { left, top, right, bottom}_
### Function: uio2_get_visible_center
_description: calculates center of visible element's part_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
#### name: xml
_position: 1_
**required**
_description: any valid XML-source, usually comes from hierarchy dump_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: filter
_position: 3_
**required**
_description: grep -E like regular expression passed to find elements on screen_
### Function: uio2_is_checkable
_description: gets XML element's checkable attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_checked
_description: gets XML element's checked attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_clickable
_description: gets XML element's clickable attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_enabled
_description: gets XML element's enabled attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_focusable
_description: gets XML element's focusable_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_focused
_description: gets XML element's focused attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_long_clickable
_description: gets XML element's long-clickable attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_scrollable
_description: gets XML element's scrollable attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_is_selected
_description: gets XML element's selected attribute_
#### name: node
_position: 1_
**required**
_description: an XML-string-like element description_
### Function: uio2_long_click
_description: clicks 0.5 seconds long on element_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: x
_position: 3_
**optional (default value "$ANCHOR_POINT_CENTER")**
_description: usually expresses horizontal margin from left where to do interaction with element_
#### name: y
_position: 4_
**optional (default value "$ANCHOR_POINT_MIDDLE")**
_description: usually expresses horizontal margin from top where to do interaction with element_
### Function: uio2_pinch_close
_description: performs pinch close gesture on elemetn with specified size_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: percent
_position: 3_
**optional (default value '50%')**
_description: percent-value-string-like '50%'/'66%'/'1%'_
#### name: duration
_position: 4_
**optional (default value 500)**
_description: time expressed in seconds or milliseconds_
### Function: uio2_pinch_open
_description: performs pinch open gesture on elemetn with specified size_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: percent
_position: 3_
**optional (default value '50%')**
_description: percent-value-string-like '50%'/'66%'/'1%'_
#### name: duration
_position: 4_
**optional (default value 500)**
_description: time expressed in seconds or milliseconds_
### Function: uio2_set_text
_description: write text to editable, auto clicks the element_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: content
_position: 3_
**optional (default value '')**
_description: is a text to type inside text editable_
### Function: uio2_swipe_with_speed
_description: like uio2_swipe, but need speed instead of duration_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: direction
_position: 3_
**optional (default value "$DIRECTION_DOWN")**
_description: is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }_
#### name: percent
_position: 4_
**optional (default value '50%')**
_description: percent-value-string-like '50%'/'66%'/'1%'_
#### name: speed
_position: 5_
**optional (default value 1000)**
_description: speed in pixels per second to perform gesture_
### Function: uio2_swipe
_description: performs swipe on element from its one point to another_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: node
_position: 2_
**required**
_description: an XML-string-like element description_
#### name: direction
_position: 3_
**optional (default value "$DIRECTION_DOWN")**
_description: is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }_
#### name: percent
_position: 4_
**optional (default value '50%')**
_description: percent-value-string-like '50%'/'66%'/'1%'_
#### name: duration
_position: 5_
**optional (default value 500)**
_description: time expressed in seconds or milliseconds_
### Function: utils_assert_null
_description: exits with `success_message` and status 0 if `value` is `$NULL` else prints `error_message` with status 1_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: success_message
_position: 2_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 3_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_not_null
_description: exits with `success_message` and status 0 if `value` is NOT `$NULL` else prints `error_message` with status 1_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: success_message
_position: 2_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 3_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_true
_description: exits with `success_message` and status 0 if `value` is `$TRUE` else prints `error_message` with status 1_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: success_message
_position: 2_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 3_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_false
_description: exits with `success_message` and status 0 if `value` is `$FALSE` else prints `error_message` with status 1_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: success_message
_position: 2_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 3_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_string_is_empty
_description: exits with `success_message` and status 0 if `value` expands to '' else prints `error_message` with status 1_
#### name: value
_position: 1_
**required**
_description: value to assert, to null or default_
#### name: success_message
_position: 2_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 3_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_strings_are_equal
_description: exits with `success_message` and status 0 if `value_a` and `value_b` expand to same values else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_strings_are_different
_description: exits with `success_message` and status 0 if `value_a` and `value_b` expand to different values else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_less_than_second
_description: exits with `success_message` and status 0 if `value_a` is less than `value_b` else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_less_or_equal_than_second
_description: exits with `success_message` and status 0 if `value_a` is less or equal than `value_b` else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_equals_second
_description: exits with `success_message` and status 0 if `value_a` and `value_b` are equal else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_greater_or_equal_than_second
_description: exits with `success_message` and status 0 if `value_a` is greater or equal than `value_b` else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_greater_than_second
_description: exits with `success_message` and status 0 if `value_a` is greater than `value_b` else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_assert_numbers_first_is_not_equal_to_second
_description: exits with `success_message` and status 0 if `value_a` and `value_b` expand to different values else prints `error_message` with status 1_
#### name: value_a
_position: 1_
**required**
_description: value to assert_
#### name: value_b
_position: 2_
**required**
_description: value to assert_
#### name: success_message
_position: 3_
**required**
_description: message for assert printed when assertion success_
#### name: error_message
_position: 4_
**required**
_description: message for assert printed when assertion fails_
### Function: utils_devices
_description: returns all devices ids list or single if `device_index` passed_
#### name: device_index
_position: 1_
**optional (default value '')**
_description: is the order number of device comes from `adb devices`_
### Function: utils_is_device_connected
_description: checks if device with `device_id` is reachable from ADB, returns `$TRUE`/ `$FALSE`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: utils_restart_server
_description: restarts ADB server_
### Function: utils_reboot
_description: reboots device by its `device_id`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: utils_set_display
_description: sets resolution and density by provoding named params of deivce by `device_id`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
### Function: utils_install_and_start
_description: starts `package_name` on device with `device_id`, allows to install apk and force reinstall_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: package_name
_position: 2_
**required**
_description: application package name_
#### name: apkpath
_position: 3_
**optional (default value '')**
_description: path to .apk file to install and run_
#### name: force
_position: 4_
**optional (default value '')**
_description: forces given procedure to do something e. g. reinstall_
### Function: utils_stop_app
_description: stops app with `package_name` on device with `device_id`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: package_name
_position: 2_
**required**
_description: application package name_
### Function: utils_uninstall
_description: uninstalls app with `package_name` on device with `device_id`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: package_name
_position: 2_
**required**
_description: application package name_
### Function: utils_clear_data
_description: clears app data of `package_name` on device with `device_id`_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: package_name
_position: 2_
**required**
_description: application package name_
### Function: utils_record
_description: records video from device with `device_id`, for now this probably locks device blockick possibility to execute other functions_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: filename
_position: 2_
**required**
_description: filename where to store screenshot of recording. Pass without extension_
### Function: utils_wait_to_see
_description: search for element on device's screen by `device_id`, dumps hierarchy until element appeared or attempts exhaust_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: filter
_position: 2_
**required**
_description: grep -E like regular expression passed to find elements on screen_
#### name: index
_position: 3_
**optional (default value 1)**
_description: to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO_
#### name: attempts
_position: 4_
**optional (default value 30)**
_description: number of tries after function will stop with result_
### Function: utils_search_node
_description: searches for element in advanced way, it scrolls horizontally or vertically through given element and searches for other element inside, moved by configurable steps, repeats `cycles` times_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: object_to_search_in
_position: 2_
**optional (default value '')**
_description: an XML-string-like element in which searching by swipe left/right top/left will be done_
#### name: filter
_position: 3_
**required**
_description: grep -E like regular expression passed to find elements on screen_
#### name: index
_position: 4_
**optional (default value 1)**
_description: to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO_
#### name: swiping_direction
_position: 5_
**optional (default value "$DIRECTION_VERTICAL")**
_description: is one of { $DIRECTION_DOWN $DIRECTION_LEFT $DIRECTION_RIGHT $DIRECTION_UP }_
#### name: cycles
_position: 6_
**optional (default value 1)**
_description: number of repeats the whole procedure like swiping to left/right top/bottom to reach the scroll limit. Cycle decreases when direction changes_
#### name: swipe_length
_position: 7_
**optional (default value '50%')**
_description: distance between touchdown and touchup for swipe_
#### name: swipes_count_left
_position: 8_
**optional (default value 50)**
_description: swipes left to perform before go to next cycles or stop procedure with some result_
### Function: utils_wait_to_gone
_description: search for element on device's screen by `device_id`, dumps hierarchy until element gone or attempts exhaust_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
#### name: filter
_position: 2_
**required**
_description: grep -E like regular expression passed to find elements on screen_
#### name: index
_position: 3_
**optional (default value 1)**
_description: to point specified instance. Out of bound will result with empty result is is not $NULL in this case. Maybe this should return $NULL? #TODO_
#### name: attempts
_position: 4_
**optional (default value 30)**
_description: number of tries after function will stop with result_
### Function: utils_get_device_orientation
_description: gets device's orientation as number 0 to 3_
#### name: device_id
_position: 1_
**required**
_description: is a string like emulator-5554, emulator-5556_
